add_package()

py_library(
  NAME
    overlays
  DEPS
    .abc_overlay
    .asyncio_types_overlay
    .attr_overlay
    .chex_overlay
    .collections_overlay
    .dataclass_overlay
    .enum_overlay
    .flax_overlay
    .future_overlay
    .pytype_extensions_overlay
    .six_overlay
    .subprocess_overlay
    .sys_overlay
    .typing_extensions_overlay
    .typing_overlay
)

py_library(
  NAME
    classgen
  SRCS
    classgen.py
  DEPS
    pytype.abstract
    pytype.abstract_utils
    pytype.class_mixin
    pytype.overlay_utils
    pytype.special_builtins
)

py_library(
  NAME
    abc_overlay
  SRCS
    abc_overlay.py
  DEPS
    pytype.abstract
    pytype.overlay
    pytype.special_builtins
)

py_library(
  NAME
    asyncio_types_overlay
  SRCS
    asyncio_types_overlay.py
  DEPS
    pytype.abstract
    pytype.overlay
)

py_library(
  NAME
    attr_overlay
  SRCS
    attr_overlay.py
  DEPS
    .classgen
    pytype.abstract
    pytype.abstract_utils
    pytype.function
    pytype.mixin
    pytype.overlay
    pytype.overlay_utils
)

py_library(
  NAME
    chex_overlay
  SRCS
    chex_overlay.py
  DEPS
    .classgen
    .dataclass_overlay
    pytype.abstract
    pytype.overlay
    pytype.overlay_utils
    pytype.pytd.pytd
)

py_library(
  NAME
    collections_overlay
  SRCS
    collections_overlay.py
  DEPS
    pytype.abstract
    pytype.abstract_utils
    pytype.overlay
    pytype.utils
    pytype.pyi.parser
    pytype.pytd.pytd
)

py_library(
  NAME
    dataclass_overlay
  SRCS
    dataclass_overlay.py
  DEPS
    .classgen
    pytype.abstract
    pytype.abstract_utils
    pytype.function
    pytype.overlay
)

py_library(
  NAME
    enum_overlay
  SRCS
    enum_overlay.py
  DEPS
    .classgen
    pytype.abstract
    pytype.overlay
    pytype.pytd.pytd
)

py_library(
  NAME
    flax_overlay
  SRCS
    flax_overlay.py
  DEPS
    .classgen
    .dataclass_overlay
    pytype.abstract
    pytype.abstract_utils
    pytype.function
    pytype.overlay
    pytype.pytd.pytd
)

py_library(
  NAME
    future_overlay
  SRCS
    future_overlay.py
  DEPS
    pytype.metaclass
    pytype.overlay
)

py_library(
  NAME
    pytype_extensions_overlay
  SRCS
    pytype_extensions_overlay.py
  DEPS
    pytype.overlay
    pytype.special_builtins
)

py_library(
  NAME
    six_overlay
  SRCS
    six_overlay.py
  DEPS
    pytype.metaclass
    pytype.overlay
)

py_library(
  NAME
    subprocess_overlay
  SRCS
    subprocess_overlay.py
  DEPS
    pytype.abstract
    pytype.function
    pytype.overlay
)

py_library(
  NAME
    sys_overlay
  SRCS
    sys_overlay.py
  DEPS
    pytype.abstract
    pytype.overlay
)

py_library(
  NAME
    typing_extensions_overlay
  SRCS
    typing_extensions_overlay.py
  DEPS
    .typing_overlay
    pytype.overlay
)

py_library(
  NAME
    typing_overlay
  SRCS
    typing_overlay.py
  DEPS
    .classgen
    .collections_overlay
    pytype.abstract
    pytype.abstract_utils
    pytype.function
    pytype.overlay
    pytype.overlay_utils
    pytype.utils
    pytype.pytd.pytd
)

py_test(
  NAME
    collections_overlay_test
  SRCS
    collections_overlay_test.py
  DEPS
    .collections_overlay
    pytype.pytd.pytd
    pytype.tests.test_base
)
